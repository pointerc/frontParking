(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72332165"],{"203f":function(e,t,s){},2522:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-form",{attrs:{model:e.form}},[s("el-form-item",{attrs:{label:"卡号","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.carNo,callback:function(t){e.$set(e.form,"carNo",t)},expression:"form.carNo"}})],1),s("el-form-item",{attrs:{label:"车位号","label-width":e.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.placeNo,callback:function(t){e.$set(e.form,"placeNo",t)},expression:"form.placeNo"}}),s("div",{staticStyle:{color:"#606266"}},[e._v("(1-20: 大型车，21-40: 小型车)")])],1),s("el-form-item",{attrs:{label:"车位类型","label-width":e.formLabelWidth}},[s("el-select",{attrs:{placeholder:"请选择车位类型"},model:{value:e.form.carType,callback:function(t){e.$set(e.form,"carType",t)},expression:"form.carType"}},[s("el-option",{attrs:{label:"大型车位",value:"2"}}),s("el-option",{attrs:{label:"小型车位",value:"1"}})],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},a=[],l=s("5c96"),i={data:function(){return{form:{carNo:"",placeNo:"",carType:""},submitFlag:!1,formLabelWidth:"120px",loadingInstance:{}}},computed:{},mounted:function(){},methods:{confirm:function(){var e=this;return this.submitFlag?(this.$message({showClose:!0,message:"请勿频繁点击",type:"warning"}),!1):""==this.form.carNo?(this.$message({message:"卡号不能为空",type:"warning"}),!1):""==this.form.placeNo?(this.$message({message:"车位号不能为空",type:"warning"}),!1):""==this.form.carType?(this.$message({message:"请选择车位类型",type:"warning"}),!1):(this.submitFlag=!0,this.loadingInstance=l["Loading"].service({fullscreen:!0,text:"拼命加载中",spinner:"el-icon-loading"}),void this.$http.post("http://106.54.118.232:8090/system/car/vehicle/admission/1",this.form,{credientials:!0,timeout:1e4,emulateJSON:!1}).then(function(t){e.loadingInstance.close(),console.log("车辆入场成功：",t),0==t.body.state?(e.submitFlag=!0,e.$message({showClose:!0,message:"信息提交成功",type:"success"})):(e.$message({showClose:!0,message:t.body.msg,type:"error"}),e.submitFlag=!1)}).catch(function(e){this.loadingInstance.close(),this.$message({showClose:!0,message:"信息提交失败",type:"error"}),this.submitFlag=!1}))}}},r=i,n=(s("4650"),s("2877")),c=Object(n["a"])(r,o,a,!1,null,null,null);t["default"]=c.exports},4650:function(e,t,s){"use strict";var o=s("203f"),a=s.n(o);a.a}}]);